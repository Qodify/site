{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "PostForm.svelte",
    "Home.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import { createEventDispatcher } from \"svelte\";\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  let title = \"\";\r\n  let body = \"\";\r\n  let loading = false;\r\n\r\n  const apiBaseUrl =\r\n    \"https://ndb99xkpdk.execute-api.eu-west-2.amazonaws.com/dev\";\r\n\r\n  async function onSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    if (title.trim() === \"\" || body.trim() === \"\") {\r\n      return;\r\n    }\r\n\r\n    loading = true;\r\n\r\n    const newPost = { title, body };\r\n    const res = await fetch(`${apiBaseUrl}/post`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(newPost),\r\n    });\r\n    const post = await res.json();\r\n    dispatch(\"postCreated\", post);\r\n    title = body = \"\";\r\n    loading = false;\r\n  }\r\n</script>\r\n\r\n<style>\r\n  form {\r\n    margin: 50px;\r\n  }\r\n  .progress {\r\n    margin: 100px 0;\r\n  }\r\n</style>\r\n\r\n{#if !loading}\r\n  <form on:submit={onSubmit}>\r\n    <div class=\"input-field\">\r\n      <label for=\"title\" />\r\n      <input type=\"text\" bind:value={title} />\r\n    </div>\r\n    <div class=\"input-field\">\r\n      <label for=\"body\" />\r\n      <input type=\"text\" bind:value={body} />\r\n    </div>\r\n    <button type=\"submit\" class=\"waves-effect waves-light btn\">Add</button>\r\n  </form>\r\n{:else}\r\n  <div class=\"progress\">\r\n    <div class=\"indeterminate\" />\r\n  </div>\r\n{/if}\r\n",
    "<script>\r\n  import { onMount } from \"svelte\";\r\n  import PostForm from \"../components/PostForm.svelte\";\r\n\r\n  const apiBaseUrl =\r\n    \"https://ndb99xkpdk.execute-api.eu-west-2.amazonaws.com/dev\";\r\n  let posts = [];\r\n\r\n  onMount(async () => {\r\n    const res = await fetch(apiBaseUrl + \"/posts\");\r\n    posts = await res.json();\r\n  });\r\n\r\n  function editPost(post) {\r\n    console.log(post);\r\n  }\r\n  function deletePost(id) {\r\n    if (confirm(\"Are you sure?\")) {\r\n      console.log(\"Deleting post with id: \", id);\r\n      fetch(`${apiBaseUrl}/post/${id}`, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then(() => {\r\n          posts = posts.filter((p) => p.id !== id);\r\n        });\r\n    }\r\n  }\r\n\r\n  function addPost({ detail: post }) {\r\n    posts = [post, ...posts];\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .delete-btn {\r\n    color: red !important;\r\n  }\r\n  .card .card-content .card-title {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .card .card-content p.timestamp {\r\n    color: #999;\r\n    margin-bottom: 10px;\r\n  }\r\n</style>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col s6\">\r\n    <PostForm on:postCreated={addPost} />\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  {#if posts.length === 0}\r\n    <h3>Loading posts ...</h3>\r\n  {:else}\r\n    {#each posts as post}\r\n      <div class=\"col s6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-content\">\r\n            <p class=\"card-title\">{post.title}</p>\r\n            <p class=\"timestamp\">\r\n              {new Date(post.createdAt).toLocaleDateString()}\r\n            </p>\r\n            <p>{post.body}</p>\r\n          </div>\r\n          <div class=\"card-action\">\r\n            <a href=\"#\" on:click={() => editPost(post)}>Edit</a>\r\n            <a\r\n              href=\"#\"\r\n              on:click={() => deletePost(post.id)}\r\n              class=\"delete-btn\">Delete</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    {/each}\r\n  {/if}\r\n</div>\r\n"
  ],
  "names": [],
  "mappings": "AAkCE,IAAI,eAAC,CAAC,AACJ,MAAM,CAAE,IAAI,AACd,CAAC,AACD,SAAS,eAAC,CAAC,AACT,MAAM,CAAE,KAAK,CAAC,CAAC,AACjB,CAAC;ACFD,WAAW,8BAAC,CAAC,AACX,KAAK,CAAE,GAAG,CAAC,UAAU,AACvB,CAAC,AACD,oBAAK,CAAC,aAAa,CAAC,WAAW,eAAC,CAAC,AAC/B,aAAa,CAAE,CAAC,AAClB,CAAC,AAED,oBAAK,CAAC,aAAa,CAAC,CAAC,UAAU,eAAC,CAAC,AAC/B,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,IAAI,AACrB,CAAC"
}